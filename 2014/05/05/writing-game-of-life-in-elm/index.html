<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"> <head> <script async src="https://www.googletagmanager.com/gtag/js?id=G-3N6CESJ0B5"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-3N6CESJ0B5");</script> <link href="http://gmpg.org/xfn/11" rel="profile"> <meta http-equiv="content-type" content="text/html; charset=utf-8"> <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"> <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"> <link rel="manifest" href="/site.webmanifest"> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"> <title> Writing Game of Life in Elm &middot; effluence </title> <link rel="stylesheet" href="/assets/css/styles.css"> <link rel="preconnect" href="https://fonts.gstatic.com"> <link href="https://fonts.googleapis.com/css2?family=Epilogue&display=swap" rel="stylesheet"> <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml"> <link rel="canonical" href="https://sonnym.com/2014/05/05/writing-game-of-life-in-elm/"> </head> <body class="layout-reverse"> <div class="sidebar"> <div class="container sidebar-sticky"> <div class="sidebar-about"> <h1>effluence</h1> <p class="lead"></p> </div> <ul class="sidebar-nav"> <li class="sidebar-nav-item"> <a href="/">home</a> </li> <li class="sidebar-nav-item"> <a href="/about/">about</a> </li> <li class="sidebar-nav-item"> <a href="/atom.xml" target="_blank">rss</a> </li> </ul> <p>&copy; 2026. All rights reserved.</p> </div> </div> <div class="content container"> <div class="post"> <h1 class="post-title">Writing Game of Life in Elm</h1> <h2 id="introduction">Introduction</h2> <p>In this article, we will walk through the steps for writing an implementation of <span class="fancylink"> <a href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life">Conway’s Game of Life</a> <span> <a href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life" target="_blank" alt="Pop Out" title="Pop Out"><svg class="octicon octicon-link-external" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path></svg></a> </span> </span> in the <span class="fancylink"> <a href="http://elm-lang.org/">Elm</a> <span> <a href="http://elm-lang.org/" target="_blank" alt="Pop Out" title="Pop Out"><svg class="octicon octicon-link-external" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path></svg></a> </span> </span> programming language.</p> <p>In doing so, we will learn about the basic principles involved with writing programs in Elm, while grounding them in a concrete problem. We will be building a single program in steps, so much of the source will be repeated between the examples, but it will be more clear to present each step in its entirety.</p> <p>I first became interested in Elm after seeing Evan Czaplicki’s <span class="fancylink"> <a href="http://lanyrd.com/2013/mlocjs/sccwrp/">talk</a> <span> <a href="http://lanyrd.com/2013/mlocjs/sccwrp/" target="_blank" alt="Pop Out" title="Pop Out"><svg class="octicon octicon-link-external" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path></svg></a> </span> </span> from mloc.js 2013, where he presented an overview of Elm and the compelling example of how one would write a simple side-scroller in an extremely straight forward fashion as a consequence of the core concept in Elm: signals.</p> <p>Elm is a <span class="fancylink"> <a href="https://en.wikipedia.org/wiki/Functional_reactive_programming">functional reactive programming</a> <span> <a href="https://en.wikipedia.org/wiki/Functional_reactive_programming" target="_blank" alt="Pop Out" title="Pop Out"><svg class="octicon octicon-link-external" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path></svg></a> </span> </span> language, a paradigm concerned with using an explicit model of time. Elm uses signals as its abstraction of time-varying values, including various time functions (e.g. <code class="language-plaintext highlighter-rouge">every second</code>), constants (e.g. <code class="language-plaintext highlighter-rouge">constant True</code>), which are invariant over time, and user input (e.g. <code class="language-plaintext highlighter-rouge">Mouse.clicks</code>). These, and other, signals can be combined and manipulated in various ways to achieve vastly complex results, clearly and concisely. It is this expressive power of Elm that I find especially interesting. The <span class="fancylink"> <a href="https://elm-lang.org/docs/advanced-topics#functional-reactive-programming">overview of FRP</a> <span> <a href="https://elm-lang.org/docs/advanced-topics#functional-reactive-programming" target="_blank" alt="Pop Out" title="Pop Out"><svg class="octicon octicon-link-external" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path></svg></a> </span> </span> on the Elm site is excellent resource for these core concepts.</p> <p>For this reason, I chose Elm to explore Conway’s Game of Life. Having seen that Life can be written concisely, to an almost absurd degree, in <span class="fancylink"> <a href="http://youtu.be/a9xAKttWgP4">APL</a> <span> <a href="http://youtu.be/a9xAKttWgP4" target="_blank" alt="Pop Out" title="Pop Out"><svg class="octicon octicon-link-external" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path></svg></a> </span> </span>, it seems to me to be a very interesting problem by which to compare different languages. I have only dabbled with Elm in the past, writing a toy for <span class="fancylink"> <a href="http://www.ludumdare.com/compo/ludum-dare-28/">LD 28</a> <span> <a href="http://www.ludumdare.com/compo/ludum-dare-28/" target="_blank" alt="Pop Out" title="Pop Out"><svg class="octicon octicon-link-external" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path></svg></a> </span> </span>, but have always wanted to spend some more time getting to know the language.</p> <p>Without further ado, let us begin writing Conway’s Game of Life.</p> <h2 id="first-steps">First Steps</h2> <p>We will begin by writing a very simple static grid, the foundation for our game. I often begin writing Elm programs with all my signals planned out, interacting in complex ways, since that seems the more interesting part of the problem, as compared with some boringly simple display components. The fact of the matter is, however, that, lacking in experience with static typing and the concepts of signals, I often find myself in a mess and have to back out.</p> <p>I, in fact, did that with this program. Several times. I believe I come to understand the core concepts much more, but the fact remains: start with a solid base and build on top of it. This first example will simply a grid of a predetermined size. It has support for cells being turned on and off, but they are all on to begin with.</p> <section class="example-embed"> <h4>static_grid.elm</h4> <h5>Source</h5> <figure class="highlight"><pre><code class="language-elm" data-lang="elm"><span class="k">import</span> <span class="kt">List</span>

<span class="k">import</span> <span class="kt">Color</span> <span class="p">(</span><span class="n">rgb</span><span class="p">)</span>
<span class="k">import</span> <span class="kt">Graphics</span><span class="o">.</span><span class="kt">Element</span> <span class="p">(</span><span class="kt">Element</span><span class="o">,</span> <span class="n">flow</span><span class="o">,</span> <span class="n">right</span><span class="o">,</span> <span class="n">down</span><span class="o">,</span> <span class="n">container</span><span class="o">,</span> <span class="n">topLeft</span><span class="o">,</span> <span class="n">spacer</span><span class="o">,</span> <span class="n">color</span><span class="p">)</span>

<span class="n">cellSize</span> <span class="o">=</span> <span class="mi">5</span>
<span class="p">(</span><span class="n">columns</span><span class="o">,</span> <span class="n">rows</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">35</span><span class="o">,</span> <span class="mi">35</span><span class="p">)</span>

<span class="n">main</span> <span class="p">:</span> <span class="kt">Element</span>
<span class="n">main</span> <span class="o">=</span> <span class="n">renderGrid</span> <span class="n">generateGrid</span>

<span class="n">generateGrid</span> <span class="p">:</span> <span class="kt">List</span> <span class="p">(</span><span class="kt">List</span> <span class="kt">Bool</span><span class="p">)</span>
<span class="n">generateGrid</span> <span class="o">=</span> <span class="kt">List</span><span class="o">.</span><span class="n">repeat</span> <span class="n">rows</span> <span class="p">(</span><span class="kt">List</span><span class="o">.</span><span class="n">repeat</span> <span class="n">columns</span> <span class="kt">True</span><span class="p">)</span>

<span class="n">renderGrid</span> <span class="p">:</span> <span class="kt">List</span> <span class="p">(</span><span class="kt">List</span> <span class="kt">Bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Element</span>
<span class="n">renderGrid</span> <span class="n">grid</span> <span class="o">=</span>
  <span class="n">grid</span>
    <span class="o">|&gt;</span> <span class="kt">List</span><span class="o">.</span><span class="n">map</span> <span class="n">renderRow</span>
    <span class="o">|&gt;</span> <span class="kt">List</span><span class="o">.</span><span class="n">map</span> <span class="p">(</span><span class="n">flow</span> <span class="n">right</span><span class="p">)</span>
    <span class="o">|&gt;</span> <span class="n">flow</span> <span class="n">down</span>
    <span class="o">|&gt;</span> <span class="n">container</span> <span class="p">(</span><span class="n">cellSize</span> <span class="o">*</span> <span class="n">columns</span><span class="p">)</span> <span class="p">(</span><span class="n">cellSize</span> <span class="o">*</span> <span class="n">rows</span><span class="p">)</span> <span class="n">topLeft</span>

<span class="n">renderRow</span> <span class="p">:</span> <span class="kt">List</span> <span class="kt">Bool</span> <span class="o">-&gt;</span> <span class="kt">List</span> <span class="kt">Element</span>
<span class="n">renderRow</span> <span class="n">row</span> <span class="o">=</span> <span class="kt">List</span><span class="o">.</span><span class="n">map</span> <span class="n">renderCell</span> <span class="n">row</span>

<span class="n">renderCell</span> <span class="p">:</span> <span class="kt">Bool</span> <span class="o">-&gt;</span> <span class="kt">Element</span>
<span class="n">renderCell</span> <span class="n">on</span> <span class="o">=</span>
  <span class="n">spacer</span> <span class="n">cellSize</span> <span class="n">cellSize</span>
    <span class="o">|&gt;</span> <span class="n">color</span> <span class="p">(</span><span class="k">if</span> <span class="n">on</span> <span class="k">then</span> <span class="p">(</span><span class="n">rgb</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">rgb</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span><span class="p">))</span></code></pre></figure> <h5><a href="/examples/elm/0.14/static_grid/" target="_new">View Result <svg class="octicon octicon-link-external" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path></svg></a></h5> </section> <p>The crux of this program is that we want to turn a nested list of boolean values (<code class="language-plaintext highlighter-rouge">List (List Bool)</code>) into an <code class="language-plaintext highlighter-rouge">Element</code>, one of two possible types for the <code class="language-plaintext highlighter-rouge">main</code> function in an Elm program. We use the <code class="language-plaintext highlighter-rouge">Element</code> API to achieve this in a few steps.</p> <p>This first example is, beyond those points, only really interesting syntactically. It should feel somewhat familiar to anyone who has worked with other functional languages. One point worth mentioning is the forward function application helper (<code class="language-plaintext highlighter-rouge">|&gt;</code>). This helps clarify the program (at least to my eye), when a value passes through a number of functions sequentially. The following are equivalent: <code class="language-plaintext highlighter-rouge">(c (b a))</code> and <code class="language-plaintext highlighter-rouge">a |&gt; b |&gt; c</code>.</p> <h2 id="seeding-the-grid">Seeding the Grid</h2> <p>The next step is to take the grid we created in the first example and seed it with randomly generated examples. In Elm, the <code class="language-plaintext highlighter-rouge">Random</code> component has three functions, all of which are a <code class="language-plaintext highlighter-rouge">Signal</code>. This means that, we can no longer be concerned with simply taking one value and mutating it into another, but instead, with taking a signal and converting it into another signal. The <code class="language-plaintext highlighter-rouge">main</code> function can also be of the type <code class="language-plaintext highlighter-rouge">Signal Element</code>, which, in a sense, becomes the goal of our program - we have an input of type <code class="language-plaintext highlighter-rouge">Signal (List Int)</code> we will be taking from <code class="language-plaintext highlighter-rouge">Random.list</code>, and we want to convert it into a <code class="language-plaintext highlighter-rouge">Signal Element</code> that Elm can consume.</p> <p>Herein lies a core concept - that of <code class="language-plaintext highlighter-rouge">map</code>ing a signal. The <code class="language-plaintext highlighter-rouge">map</code> function has the type <code class="language-plaintext highlighter-rouge">(a -&gt; b) -&gt; Signal a -&gt; Signal b</code>; it takes a function from type <code class="language-plaintext highlighter-rouge">a</code> to type <code class="language-plaintext highlighter-rouge">b</code> and a signal of type <code class="language-plaintext highlighter-rouge">a</code> and returns a signal of type <code class="language-plaintext highlighter-rouge">b</code>. This function is the primary means by which signals are converted from one type to another.</p> <p>As a consequence of the way <code class="language-plaintext highlighter-rouge">lift</code> works, by taking a function to convert a signal, rewriting our static example to one that is randomly generated involves very few steps. These are as follows:</p> <ol> <li>Change the type of <code class="language-plaintext highlighter-rouge">main</code> from <code class="language-plaintext highlighter-rouge">Element</code> to <code class="language-plaintext highlighter-rouge">Signal Element</code>.</li> <li>Write an <code class="language-plaintext highlighter-rouge">initialSeed</code> function of type <code class="language-plaintext highlighter-rouge">Signal Random.Seed</code></li> <li>Write a <code class="language-plaintext highlighter-rouge">seededGrid</code> function of type <code class="language-plaintext highlighter-rouge">Random.Seed -&gt; List (List Bool)</code></li> <li>Change <code class="language-plaintext highlighter-rouge">generateGrid</code> from <code class="language-plaintext highlighter-rouge">List (List Bool)</code> to <code class="language-plaintext highlighter-rouge">List Int -&gt; List (List Bool)</code></li> <li><code class="language-plaintext highlighter-rouge">map</code> our <code class="language-plaintext highlighter-rouge">seededGrid</code> function through our existing <code class="language-plaintext highlighter-rouge">renderGrid</code> function.</li> </ol> <section class="example-embed"> <h4>random_grid.elm</h4> <h5>Source</h5> <figure class="highlight"><pre><code class="language-elm" data-lang="elm"><span class="k">import</span> <span class="kt">Signal</span> <span class="p">((</span><span class="o">&lt;~</span><span class="p">)</span><span class="o">,</span> <span class="kt">Signal</span><span class="p">)</span>
<span class="k">import</span> <span class="kt">Signal</span>

<span class="k">import</span> <span class="kt">List</span> <span class="p">((</span><span class="o">::</span><span class="p">))</span>
<span class="k">import</span> <span class="kt">List</span>

<span class="k">import</span> <span class="kt">Time</span>
<span class="k">import</span> <span class="kt">Random</span>

<span class="k">import</span> <span class="kt">Color</span> <span class="p">(</span><span class="n">rgb</span><span class="p">)</span>
<span class="k">import</span> <span class="kt">Graphics</span><span class="o">.</span><span class="kt">Element</span> <span class="p">(</span><span class="kt">Element</span><span class="o">,</span> <span class="n">flow</span><span class="o">,</span> <span class="n">right</span><span class="o">,</span> <span class="n">down</span><span class="o">,</span> <span class="n">container</span><span class="o">,</span> <span class="n">topLeft</span><span class="o">,</span> <span class="n">spacer</span><span class="o">,</span> <span class="n">color</span><span class="p">)</span>

<span class="n">cellSize</span> <span class="o">=</span> <span class="mi">5</span>
<span class="p">(</span><span class="n">columns</span><span class="o">,</span> <span class="n">rows</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">35</span><span class="o">,</span> <span class="mi">35</span><span class="p">)</span>

<span class="n">main</span> <span class="p">:</span> <span class="kt">Signal</span> <span class="kt">Element</span>
<span class="n">main</span> <span class="o">=</span> <span class="n">renderGrid</span> <span class="o">&lt;~</span> <span class="p">(</span><span class="n">seededGrid</span> <span class="o">&lt;~</span> <span class="n">initialSeed</span><span class="p">)</span>

<span class="n">initialSeed</span> <span class="p">:</span> <span class="kt">Signal</span> <span class="kt">Random</span><span class="o">.</span><span class="kt">Seed</span>
<span class="n">initialSeed</span> <span class="o">=</span> <span class="p">(</span><span class="o">\</span><span class="p">(</span><span class="n">time</span><span class="o">,</span> <span class="n">_</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Random</span><span class="o">.</span><span class="n">initialSeed</span> <span class="p">(</span><span class="n">round</span> <span class="n">time</span><span class="p">))</span> <span class="o">&lt;~</span> <span class="kt">Time</span><span class="o">.</span><span class="n">timestamp</span> <span class="p">(</span><span class="kt">Signal</span><span class="o">.</span><span class="n">constant</span> <span class="p">())</span>

<span class="n">seededGrid</span> <span class="p">:</span> <span class="kt">Random</span><span class="o">.</span><span class="kt">Seed</span> <span class="o">-&gt;</span> <span class="kt">List</span> <span class="p">(</span><span class="kt">List</span> <span class="kt">Bool</span><span class="p">)</span>
<span class="n">seededGrid</span> <span class="n">seed</span> <span class="o">=</span>
  <span class="k">let</span> <span class="p">(</span><span class="n">lst</span><span class="o">,</span> <span class="n">_</span><span class="p">)</span> <span class="o">=</span> <span class="kt">Random</span><span class="o">.</span><span class="n">generate</span> <span class="p">(</span><span class="kt">Random</span><span class="o">.</span><span class="n">list</span> <span class="p">(</span><span class="n">columns</span> <span class="o">*</span> <span class="n">rows</span><span class="p">)</span> <span class="p">(</span><span class="kt">Random</span><span class="o">.</span><span class="n">int</span> <span class="mi">0</span> <span class="mi">1</span><span class="p">))</span> <span class="n">seed</span>
  <span class="k">in</span> <span class="n">generateGrid</span> <span class="n">lst</span>

<span class="n">generateGrid</span> <span class="p">:</span> <span class="kt">List</span> <span class="kt">Int</span> <span class="o">-&gt;</span> <span class="kt">List</span> <span class="p">(</span><span class="kt">List</span> <span class="kt">Bool</span><span class="p">)</span>
<span class="n">generateGrid</span> <span class="n">seeds</span> <span class="o">=</span> <span class="kt">List</span><span class="o">.</span><span class="n">map</span> <span class="n">generateRow</span> <span class="p">(</span><span class="n">groupInto</span> <span class="n">rows</span> <span class="n">seeds</span><span class="p">)</span>

<span class="n">generateRow</span> <span class="p">:</span> <span class="kt">List</span> <span class="kt">Int</span> <span class="o">-&gt;</span> <span class="kt">List</span> <span class="kt">Bool</span>
<span class="n">generateRow</span> <span class="n">seeds</span> <span class="o">=</span> <span class="kt">List</span><span class="o">.</span><span class="n">map</span> <span class="p">(</span><span class="o">\</span><span class="n">n</span> <span class="o">-&gt;</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="n">seeds</span>

<span class="n">renderGrid</span> <span class="p">:</span> <span class="kt">List</span> <span class="p">(</span><span class="kt">List</span> <span class="kt">Bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Element</span>
<span class="n">renderGrid</span> <span class="n">grid</span> <span class="o">=</span>
  <span class="n">grid</span>
    <span class="o">|&gt;</span> <span class="kt">List</span><span class="o">.</span><span class="n">map</span> <span class="n">renderRow</span>
    <span class="o">|&gt;</span> <span class="kt">List</span><span class="o">.</span><span class="n">map</span> <span class="p">(</span><span class="n">flow</span> <span class="n">right</span><span class="p">)</span>
    <span class="o">|&gt;</span> <span class="n">flow</span> <span class="n">down</span>
    <span class="o">|&gt;</span> <span class="n">container</span> <span class="p">(</span><span class="n">cellSize</span> <span class="o">*</span> <span class="n">columns</span><span class="p">)</span> <span class="p">(</span><span class="n">cellSize</span> <span class="o">*</span> <span class="n">rows</span><span class="p">)</span> <span class="n">topLeft</span>

<span class="n">renderRow</span> <span class="p">:</span> <span class="kt">List</span> <span class="kt">Bool</span> <span class="o">-&gt;</span> <span class="kt">List</span> <span class="kt">Element</span>
<span class="n">renderRow</span> <span class="n">row</span> <span class="o">=</span> <span class="kt">List</span><span class="o">.</span><span class="n">map</span> <span class="n">renderCell</span> <span class="n">row</span>

<span class="n">renderCell</span> <span class="p">:</span> <span class="kt">Bool</span> <span class="o">-&gt;</span> <span class="kt">Element</span>
<span class="n">renderCell</span> <span class="n">on</span> <span class="o">=</span>
  <span class="n">spacer</span> <span class="n">cellSize</span> <span class="n">cellSize</span>
    <span class="o">|&gt;</span> <span class="n">color</span> <span class="p">(</span><span class="k">if</span> <span class="n">on</span> <span class="k">then</span> <span class="p">(</span><span class="n">rgb</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">rgb</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span><span class="p">))</span>

<span class="n">groupInto</span> <span class="p">:</span> <span class="kt">Int</span> <span class="o">-&gt;</span> <span class="kt">List</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">List</span> <span class="p">(</span><span class="kt">List</span> <span class="n">a</span><span class="p">)</span>
<span class="n">groupInto</span> <span class="n">groups</span> <span class="n">initial</span> <span class="o">=</span>
  <span class="k">let</span>
    <span class="n">len</span> <span class="o">=</span> <span class="kt">List</span><span class="o">.</span><span class="n">length</span> <span class="n">initial</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">len</span> <span class="o">//</span> <span class="n">groups</span>
  <span class="k">in</span>
    <span class="kt">List</span><span class="o">.</span><span class="n">repeat</span> <span class="n">groups</span> <span class="p">[]</span>
      <span class="o">|&gt;</span> <span class="kt">List</span><span class="o">.</span><span class="n">indexedMap</span> <span class="p">(</span><span class="o">\</span><span class="n">i</span> <span class="n">_</span> <span class="o">-&gt;</span>
          <span class="kt">List</span><span class="o">.</span><span class="n">take</span> <span class="n">n</span> <span class="p">(</span><span class="kt">List</span><span class="o">.</span><span class="n">drop</span> <span class="p">(</span><span class="n">n</span> <span class="o">*</span> <span class="n">i</span><span class="p">)</span> <span class="n">initial</span><span class="p">))</span></code></pre></figure> <h5><a href="/examples/elm/0.14/random_grid/" target="_new">View Result <svg class="octicon octicon-link-external" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path></svg></a></h5> </section> <p>We do write two other helper functions, <code class="language-plaintext highlighter-rouge">generateRow</code> and <code class="language-plaintext highlighter-rouge">groupInto</code>, but neither change is essential for the example. In fact, the rendering we wrote before, the helpers, and now the basic seeding never needs to change again.</p> <p>These core input and output signals will remain constant, but we will have to add some additional transitions in order to make life evolve.</p> <h2 id="adding-generations">Adding Generations</h2> <p>This final piece of the puzzle is to make the grid evolve from one generation to the next. Elm makes this exceptionally easy with its concept of past dependent signals. The function <code class="language-plaintext highlighter-rouge">foldp</code>, of type <code class="language-plaintext highlighter-rouge">(a -&gt; b -&gt; b) -&gt; b -&gt; Signal a -&gt; Signal b</code> takes a function of two values, a default value for the output signal, and an input signal. The function takes two arguments: the current value of the input signal, and the past value (or the default on the first event).</p> <p>We can use this construct to take our <code class="language-plaintext highlighter-rouge">initialSeed</code> of <code class="language-plaintext highlighter-rouge">Signal (List (List Bool))</code> and step it from generation to generation. This is, again, a comparatively simple process, consisting primarily of the following steps:</p> <ol> <li>Update the main function to make use of <code class="language-plaintext highlighter-rouge">foldp</code>.</li> <li>Create a <code class="language-plaintext highlighter-rouge">step</code> function of type <code class="language-plaintext highlighter-rouge">List (List Bool) -&gt; List (List Bool) -&gt; List (List Bool)</code>.</li> <li>Create an <code class="language-plaintext highlighter-rouge">evolve</code> function of type <code class="language-plaintext highlighter-rouge">List (List Bool) -&gt; List (List Bool)</code>.</li> </ol> <section class="example-embed"> <h4>game_of_life.elm</h4> <h5>Source</h5> <figure class="highlight"><pre><code class="language-elm" data-lang="elm"><span class="k">import</span> <span class="kt">Signal</span> <span class="p">((</span><span class="o">&lt;~</span><span class="p">)</span><span class="o">,</span> <span class="kt">Signal</span><span class="p">)</span>
<span class="k">import</span> <span class="kt">Signal</span>

<span class="k">import</span> <span class="kt">List</span> <span class="p">((</span><span class="o">::</span><span class="p">))</span>
<span class="k">import</span> <span class="kt">List</span>

<span class="k">import</span> <span class="kt">Time</span>
<span class="k">import</span> <span class="kt">Random</span>

<span class="k">import</span> <span class="kt">Color</span> <span class="p">(</span><span class="n">rgb</span><span class="p">)</span>
<span class="k">import</span> <span class="kt">Graphics</span><span class="o">.</span><span class="kt">Element</span> <span class="p">(</span><span class="kt">Element</span><span class="o">,</span> <span class="n">flow</span><span class="o">,</span> <span class="n">right</span><span class="o">,</span> <span class="n">down</span><span class="o">,</span> <span class="n">container</span><span class="o">,</span> <span class="n">topLeft</span><span class="o">,</span> <span class="n">spacer</span><span class="o">,</span> <span class="n">color</span><span class="p">)</span>

<span class="n">cellSize</span> <span class="o">=</span> <span class="mi">5</span>
<span class="p">(</span><span class="n">columns</span><span class="o">,</span> <span class="n">rows</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">35</span><span class="o">,</span> <span class="mi">35</span><span class="p">)</span>

<span class="n">main</span> <span class="p">:</span> <span class="kt">Signal</span> <span class="kt">Element</span>
<span class="n">main</span> <span class="o">=</span>
  <span class="kt">Signal</span><span class="o">.</span><span class="n">sampleOn</span> <span class="p">(</span><span class="kt">Time</span><span class="o">.</span><span class="n">every</span> <span class="kt">Time</span><span class="o">.</span><span class="n">second</span><span class="p">)</span> <span class="p">(</span><span class="n">seededGrid</span> <span class="o">&lt;~</span> <span class="n">initialSeed</span><span class="p">)</span>
    <span class="o">|&gt;</span> <span class="kt">Signal</span><span class="o">.</span><span class="n">foldp</span> <span class="p">(</span><span class="n">step</span><span class="p">)</span> <span class="p">[[]]</span>
    <span class="o">|&gt;</span> <span class="kt">Signal</span><span class="o">.</span><span class="n">map</span> <span class="n">renderGrid</span>

<span class="n">step</span> <span class="p">:</span> <span class="kt">List</span> <span class="p">(</span><span class="kt">List</span> <span class="kt">Bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">List</span> <span class="p">(</span><span class="kt">List</span> <span class="kt">Bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">List</span> <span class="p">(</span><span class="kt">List</span> <span class="kt">Bool</span><span class="p">)</span>
<span class="n">step</span> <span class="n">current</span> <span class="n">past</span> <span class="o">=</span> <span class="k">if</span> <span class="p">(</span><span class="kt">List</span><span class="o">.</span><span class="n">isEmpty</span> <span class="p">(</span><span class="kt">List</span><span class="o">.</span><span class="n">head</span> <span class="n">past</span><span class="p">))</span> <span class="k">then</span> <span class="n">current</span> <span class="k">else</span> <span class="p">(</span><span class="n">evolve</span> <span class="n">past</span><span class="p">)</span>

<span class="n">initialSeed</span> <span class="p">:</span> <span class="kt">Signal</span> <span class="kt">Random</span><span class="o">.</span><span class="kt">Seed</span>
<span class="n">initialSeed</span> <span class="o">=</span> <span class="p">(</span><span class="o">\</span><span class="p">(</span><span class="n">time</span><span class="o">,</span> <span class="n">_</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Random</span><span class="o">.</span><span class="n">initialSeed</span> <span class="p">(</span><span class="n">round</span> <span class="n">time</span><span class="p">))</span> <span class="o">&lt;~</span> <span class="kt">Time</span><span class="o">.</span><span class="n">timestamp</span> <span class="p">(</span><span class="kt">Signal</span><span class="o">.</span><span class="n">constant</span> <span class="p">())</span>

<span class="n">seededGrid</span> <span class="p">:</span> <span class="kt">Random</span><span class="o">.</span><span class="kt">Seed</span> <span class="o">-&gt;</span> <span class="kt">List</span> <span class="p">(</span><span class="kt">List</span> <span class="kt">Bool</span><span class="p">)</span>
<span class="n">seededGrid</span> <span class="n">seed</span> <span class="o">=</span>
  <span class="k">let</span> <span class="p">(</span><span class="n">lst</span><span class="o">,</span> <span class="n">_</span><span class="p">)</span> <span class="o">=</span> <span class="kt">Random</span><span class="o">.</span><span class="n">generate</span> <span class="p">(</span><span class="kt">Random</span><span class="o">.</span><span class="n">list</span> <span class="p">(</span><span class="n">columns</span> <span class="o">*</span> <span class="n">rows</span><span class="p">)</span> <span class="p">(</span><span class="kt">Random</span><span class="o">.</span><span class="n">int</span> <span class="mi">0</span> <span class="mi">1</span><span class="p">))</span> <span class="n">seed</span>
  <span class="k">in</span> <span class="n">generateGrid</span> <span class="n">lst</span>

<span class="n">generateGrid</span> <span class="p">:</span> <span class="kt">List</span> <span class="kt">Int</span> <span class="o">-&gt;</span> <span class="kt">List</span> <span class="p">(</span><span class="kt">List</span> <span class="kt">Bool</span><span class="p">)</span>
<span class="n">generateGrid</span> <span class="n">seeds</span> <span class="o">=</span> <span class="kt">List</span><span class="o">.</span><span class="n">map</span> <span class="n">generateRow</span> <span class="p">(</span><span class="n">groupInto</span> <span class="n">rows</span> <span class="n">seeds</span><span class="p">)</span>

<span class="n">generateRow</span> <span class="p">:</span> <span class="kt">List</span> <span class="kt">Int</span> <span class="o">-&gt;</span> <span class="kt">List</span> <span class="kt">Bool</span>
<span class="n">generateRow</span> <span class="n">seeds</span> <span class="o">=</span> <span class="kt">List</span><span class="o">.</span><span class="n">map</span> <span class="p">(</span><span class="o">\</span><span class="n">n</span> <span class="o">-&gt;</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="n">seeds</span>

<span class="n">evolve</span> <span class="p">:</span> <span class="kt">List</span> <span class="p">(</span><span class="kt">List</span> <span class="kt">Bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">List</span> <span class="p">(</span><span class="kt">List</span> <span class="kt">Bool</span><span class="p">)</span>
<span class="n">evolve</span> <span class="n">generation</span> <span class="o">=</span>
  <span class="kt">List</span><span class="o">.</span><span class="n">indexedMap</span> <span class="p">(</span><span class="o">\</span><span class="n">y</span> <span class="n">row</span> <span class="o">-&gt;</span>
    <span class="kt">List</span><span class="o">.</span><span class="n">indexedMap</span> <span class="p">(</span><span class="o">\</span><span class="n">x</span> <span class="n">_</span> <span class="o">-&gt;</span>
      <span class="n">descend</span> <span class="n">generation</span> <span class="n">x</span> <span class="n">y</span><span class="p">)</span> <span class="n">row</span><span class="p">)</span> <span class="n">generation</span>

<span class="n">descend</span> <span class="p">:</span> <span class="kt">List</span> <span class="p">(</span><span class="kt">List</span> <span class="kt">Bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="o">-&gt;</span> <span class="kt">Bool</span>
<span class="n">descend</span> <span class="n">grid</span> <span class="n">x</span> <span class="n">y</span> <span class="o">=</span>
  <span class="kt">List</span><span class="o">.</span><span class="n">concatMap</span> <span class="p">(</span><span class="o">\</span><span class="n">n</span> <span class="o">-&gt;</span> <span class="kt">List</span><span class="o">.</span><span class="n">map</span> <span class="p">(</span><span class="o">\</span><span class="n">m</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">n</span><span class="o">,</span> <span class="n">y</span> <span class="o">+</span> <span class="n">m</span><span class="p">))</span>
                   <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="p">])</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="o">|&gt;</span> <span class="kt">List</span><span class="o">.</span><span class="n">filter</span> <span class="p">(</span><span class="o">\</span><span class="n">p</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">fst</span> <span class="n">p</span><span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">fst</span> <span class="n">p</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">columns</span> <span class="o">&amp;&amp;</span>
                          <span class="p">(</span><span class="n">snd</span> <span class="n">p</span><span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">snd</span> <span class="n">p</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">rows</span> <span class="o">&amp;&amp;</span>
                          <span class="p">(</span><span class="n">not</span> <span class="p">((</span><span class="n">fst</span> <span class="n">p</span><span class="p">)</span> <span class="o">==</span> <span class="n">x</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">snd</span> <span class="n">p</span><span class="p">)</span> <span class="o">==</span> <span class="n">y</span><span class="p">)))</span>
    <span class="o">|&gt;</span> <span class="kt">List</span><span class="o">.</span><span class="n">filter</span> <span class="p">(</span><span class="o">\</span><span class="n">p</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">itemAt</span> <span class="p">(</span><span class="n">fst</span> <span class="n">p</span><span class="p">)</span>
                            <span class="p">(</span><span class="n">itemAt</span> <span class="p">(</span><span class="n">snd</span> <span class="n">p</span><span class="p">)</span> <span class="n">grid</span><span class="p">))</span> <span class="o">==</span> <span class="kt">True</span><span class="p">)</span>
    <span class="o">|&gt;</span> <span class="kt">List</span><span class="o">.</span><span class="n">length</span>
    <span class="o">|&gt;</span> <span class="p">(</span><span class="o">\</span><span class="n">l</span> <span class="o">-&gt;</span> <span class="p">((</span><span class="n">itemAt</span> <span class="n">x</span> <span class="p">(</span><span class="n">itemAt</span> <span class="n">y</span> <span class="n">grid</span><span class="p">))</span>
                <span class="o">&amp;&amp;</span> <span class="n">l</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">l</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">)</span> <span class="o">||</span> <span class="n">l</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span>

<span class="n">renderGrid</span> <span class="p">:</span> <span class="kt">List</span> <span class="p">(</span><span class="kt">List</span> <span class="kt">Bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Element</span>
<span class="n">renderGrid</span> <span class="n">grid</span> <span class="o">=</span>
  <span class="n">grid</span>
    <span class="o">|&gt;</span> <span class="kt">List</span><span class="o">.</span><span class="n">map</span> <span class="n">renderRow</span>
    <span class="o">|&gt;</span> <span class="kt">List</span><span class="o">.</span><span class="n">map</span> <span class="p">(</span><span class="n">flow</span> <span class="n">right</span><span class="p">)</span>
    <span class="o">|&gt;</span> <span class="n">flow</span> <span class="n">down</span>
    <span class="o">|&gt;</span> <span class="n">container</span> <span class="p">(</span><span class="n">cellSize</span> <span class="o">*</span> <span class="n">columns</span><span class="p">)</span> <span class="p">(</span><span class="n">cellSize</span> <span class="o">*</span> <span class="n">rows</span><span class="p">)</span> <span class="n">topLeft</span>

<span class="n">renderRow</span> <span class="p">:</span> <span class="kt">List</span> <span class="kt">Bool</span> <span class="o">-&gt;</span> <span class="kt">List</span> <span class="kt">Element</span>
<span class="n">renderRow</span> <span class="n">row</span> <span class="o">=</span> <span class="kt">List</span><span class="o">.</span><span class="n">map</span> <span class="n">renderCell</span> <span class="n">row</span>

<span class="n">renderCell</span> <span class="p">:</span> <span class="kt">Bool</span> <span class="o">-&gt;</span> <span class="kt">Element</span>
<span class="n">renderCell</span> <span class="n">on</span> <span class="o">=</span>
  <span class="n">spacer</span> <span class="n">cellSize</span> <span class="n">cellSize</span>
    <span class="o">|&gt;</span> <span class="n">color</span> <span class="p">(</span><span class="k">if</span> <span class="n">on</span> <span class="k">then</span> <span class="p">(</span><span class="n">rgb</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">rgb</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span><span class="p">))</span>

<span class="n">itemAt</span> <span class="p">:</span> <span class="kt">Int</span> <span class="o">-&gt;</span> <span class="kt">List</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="n">a</span>
<span class="n">itemAt</span> <span class="n">i</span> <span class="n">lst</span> <span class="o">=</span> <span class="kt">List</span><span class="o">.</span><span class="n">head</span> <span class="p">(</span><span class="kt">List</span><span class="o">.</span><span class="n">drop</span> <span class="n">i</span> <span class="n">lst</span><span class="p">)</span>

<span class="n">groupInto</span> <span class="p">:</span> <span class="kt">Int</span> <span class="o">-&gt;</span> <span class="kt">List</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">List</span> <span class="p">(</span><span class="kt">List</span> <span class="n">a</span><span class="p">)</span>
<span class="n">groupInto</span> <span class="n">groups</span> <span class="n">initial</span> <span class="o">=</span>
  <span class="k">let</span>
    <span class="n">len</span> <span class="o">=</span> <span class="kt">List</span><span class="o">.</span><span class="n">length</span> <span class="n">initial</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">len</span> <span class="o">//</span> <span class="n">groups</span>
  <span class="k">in</span>
    <span class="kt">List</span><span class="o">.</span><span class="n">repeat</span> <span class="n">groups</span> <span class="p">[]</span>
      <span class="o">|&gt;</span> <span class="kt">List</span><span class="o">.</span><span class="n">indexedMap</span> <span class="p">(</span><span class="o">\</span><span class="n">i</span> <span class="n">_</span> <span class="o">-&gt;</span>
          <span class="kt">List</span><span class="o">.</span><span class="n">take</span> <span class="n">n</span> <span class="p">(</span><span class="kt">List</span><span class="o">.</span><span class="n">drop</span> <span class="p">(</span><span class="n">n</span> <span class="o">*</span> <span class="n">i</span><span class="p">)</span> <span class="n">initial</span><span class="p">))</span></code></pre></figure> <h5><a href="/examples/elm/0.14/game_of_life/" target="_new">View Result <svg class="octicon octicon-link-external" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path></svg></a></h5> </section> <p>The only real nuance here is that we must <code class="language-plaintext highlighter-rouge">sampleOn seed (every second)</code>, which updates the signal with the constant initial value. We use an empty default to determine whether we should return the value from the seed, or whether we should evolve the past value.</p> <p>We use an <code class="language-plaintext highlighter-rouge">indexedMap</code> for the <code class="language-plaintext highlighter-rouge">evolve</code> function, because we will need to have the index of the cell available when calling the <code class="language-plaintext highlighter-rouge">descend</code> function. Aside from these points, it is simply gathering all the neighboring cells, filtering invalid ones, counting live neighbors, and mapping to a new boolean value.</p> <h2 id="conclusion-and-further-steps">Conclusion and Further Steps</h2> <p>Elm is a wonderful and extremely expressive language, and my experiences with it have been overwhelmingly positive. I think it is excellent for these types of applications, and its core concepts are very solid. While neophytes may struggle with the type system - I know I have had my share of problems - this can be solved through experience. The community, moreover, is both knowledgeable and willing to help. When I had a question, Evan responded almost immediately and Jeff Smits elucidated my misconceptions.</p> <p>In terms of this example, I think it is clear so long as the core concepts are in place. It may be longer than the APL example, but I did also err on the side of clarity over brevity. I have a feeling this could be condensed considerably were that the goal of the exercise.</p> <p>As such, the most interesting way to proceed with this start would be to add interactive elements. Allowing a user to control things like cell size and count, duration of a generation, to flip individuals cells, to pause the game. The list could probably go on and on, and combining signals from many different inputs is one of the strengths of Elm. I intend on revisiting this example and improving upon it in the near future, so watch out for that update.</p> <p>(This post was updated for Elm 0.14 on 13 Dec 2014)</p> <span class="post-date">05 May 2014</span> </div> <div class="related"> <h2>Related Posts</h2> <ul class="related-posts"> <li> <h3> <a href="/2017/05/22/revisiting-the-game-of-life-in-elm/"> Revisiting the Game of Life in Elm <small>22 May 2017</small> </a> </h3> </li> <li> <h3> <a href="/2017/06/18/on-maintainability-gold-plating-the-game-of-life-in-elm/"> On Maintainability: Gold Plating the Game of Life in Elm <small>18 Jun 2017</small> </a> </h3> </li> <li> <h3> <a href="/2014/12/23/barebones-architecture-in-elm/"> Barebones Architecture in Elm <small>23 Dec 2014</small> </a> </h3> </li> </ul> </div> <p class="bitcoin"></p> </div> </body> </html>