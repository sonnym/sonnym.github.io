<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"> <head> <link href="http://gmpg.org/xfn/11" rel="profile"> <meta http-equiv="content-type" content="text/html; charset=utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"> <title> home &middot; effluence </title> <link rel="stylesheet" href="/css/poole.css"> <link rel="stylesheet" href="/css/syntax.css"> <link rel="stylesheet" href="/css/hyde.css"> <link rel="stylesheet" href="/css/custom.css"> <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface"> <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml"> </head> <body class="layout-reverse"> <div class="sidebar"> <div class="container sidebar-sticky"> <div class="sidebar-about"> <h1>effluence</h1> <p class="lead"></p> </div> <ul class="sidebar-nav"> <li class="sidebar-nav-item active"> <a href="/">home</a> </li> <li class="sidebar-nav-item"> <a href="/about/">about</a> </li> <li class="sidebar-nav-item"> <a href="/atom.xml" target="_blank">rss</a> </li> </ul> <p><a href="https://twitter.com/mnemosyne_speak" target="_blank">@mnemosyne_speak</a></p> <p>&copy; 2018. All rights reserved.</p> </div> </div> <div class="content container"> <div class="posts"> <div class="post"> <h1 class="post-title"> <a href="/2017/06/18/on-maintainability-gold-plating-the-game-of-life-in-elm/"> On Maintainability: Gold Plating the Game of Life in Elm </a> </h1> <h2>Launch Pad</h2> <p>In a previous <a href="/2017/05/22/revisiting-the-game-of-life-in-elm/">article</a>, we explored how to write Conway&#39;s Game of Life in the Elm programming language. This example was predicated on one from several years before and compared the differences in Elm over the intervening period of time. Today, we will add some entirely unnecessary features to the simple version of the program.</p> <p>This exercise in <span> <a href="https://en.wikipedia.org/wiki/Gold_plating_(software_engineering)">gold plating</a> <span style="vertical-align: super"> <a href="https://en.wikipedia.org/wiki/Gold_plating_(software_engineering)" target="_blank" alt="Pop Out" title="Pop Out"><svg class="octicon octicon-link-external" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 10h1v3c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h3v1H1v10h10v-3zM6 2l2.25 2.25L5 7.5 6.5 9l3.25-3.25L12 8V2H6z"/></svg></a> </span> </span> will serve as a means of probing what it feels like to add new features to an already established Elm program; these microcosmic changes will, hopefully, be reflective of maintaining larger applications in Elm. Throughout the course of this article, we will consider successive diffs, starting from the original implementation, while moving toward the final version.</p> <a href="/2017/06/18/on-maintainability-gold-plating-the-game-of-life-in-elm/">Continue reading</a> </div> <div class="post"> <h1 class="post-title"> <a href="/2017/06/05/common-table-expressions-in-activerecord-a-case-study-of-quantiles/"> Common Table Expressions in ActiveRecord: A Case Study of Quantiles </a> </h1> <h2>Framing</h2> <p>Today, we are going to look at a straightforward real-world problem, and build a comprehensive solution. In doing so, we will start with some various naive approaches as we increase our understanding of the underlying mechanics, encounter some pitfalls, and, ultimately, approach a reasonable level of sophistication and abstraction. The stack we will be using for this case study is <span> <a href="http://rubyonrails.org/">Ruby on Rails 5.1</a> <span style="vertical-align: super"> <a href="http://rubyonrails.org/" target="_blank" alt="Pop Out" title="Pop Out"><svg class="octicon octicon-link-external" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 10h1v3c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h3v1H1v10h10v-3zM6 2l2.25 2.25L5 7.5 6.5 9l3.25-3.25L12 8V2H6z"/></svg></a> </span> </span> with <span> <a href="https://www.postgresql.org/">PostgreSQL 9.6</a> <span style="vertical-align: super"> <a href="https://www.postgresql.org/" target="_blank" alt="Pop Out" title="Pop Out"><svg class="octicon octicon-link-external" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 10h1v3c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h3v1H1v10h10v-3zM6 2l2.25 2.25L5 7.5 6.5 9l3.25-3.25L12 8V2H6z"/></svg></a> </span> </span> for the database.</p> <p>Now, let me present to you the problem through which we will frame this discussion: given a number of student records, when displaying a single student, also display the quintile into which their grade falls.</p> <a href="/2017/06/05/common-table-expressions-in-activerecord-a-case-study-of-quantiles/">Continue reading</a> </div> <div class="post"> <h1 class="post-title"> <a href="/2017/05/29/continuations-in-ruby-part-1-first-class-objects/"> Continuations in Ruby - Part 1: First Class Objects </a> </h1> <h2>Caveat Emptor</h2> <p>This is the first in an ongoing part series exploring the possibilities presented to the programmer when continuations are a first class part of a language. These articles follow Chapter 20 of Paul Graham&#39;s venerable treatise <span> <a href="http://www.paulgraham.com/onlisp.html">On Lisp</a> <span style="vertical-align: super"> <a href="http://www.paulgraham.com/onlisp.html" target="_blank" alt="Pop Out" title="Pop Out"><svg class="octicon octicon-link-external" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 10h1v3c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h3v1H1v10h10v-3zM6 2l2.25 2.25L5 7.5 6.5 9l3.25-3.25L12 8V2H6z"/></svg></a> </span> </span>.</p> <p>While a powerful semantic construct, there is no secret that continuations are, for good reason, <span> <a href="http://okmij.org/ftp/continuations/against-callcc.html">thoroughly reviled</a> <span style="vertical-align: super"> <a href="http://okmij.org/ftp/continuations/against-callcc.html" target="_blank" alt="Pop Out" title="Pop Out"><svg class="octicon octicon-link-external" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 10h1v3c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h3v1H1v10h10v-3zM6 2l2.25 2.25L5 7.5 6.5 9l3.25-3.25L12 8V2H6z"/></svg></a> </span> </span>. In short, give us the ability to store the state of a computation and return to it at a later point in the execution of our program. This form of non-local return (or <span> <a href="http://rosettacode.org/wiki/Jump_anywhere#Ruby">jump anywhere</a> <span style="vertical-align: super"> <a href="http://rosettacode.org/wiki/Jump_anywhere#Ruby" target="_blank" alt="Pop Out" title="Pop Out"><svg class="octicon octicon-link-external" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 10h1v3c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h3v1H1v10h10v-3zM6 2l2.25 2.25L5 7.5 6.5 9l3.25-3.25L12 8V2H6z"/></svg></a> </span> </span>) can be compared to <code>goto</code> statements of old or <code>try</code>/<code>catch</code> semantics commonly seen today. Both of these language features, in fact, can be implemented in terms of continuations, and in section 5.8.3 of <span> <a href="http://shop.oreilly.com/product/9780596516178.do">The Ruby Programming Language</a> <span style="vertical-align: super"> <a href="http://shop.oreilly.com/product/9780596516178.do" target="_blank" alt="Pop Out" title="Pop Out"><svg class="octicon octicon-link-external" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 10h1v3c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h3v1H1v10h10v-3zM6 2l2.25 2.25L5 7.5 6.5 9l3.25-3.25L12 8V2H6z"/></svg></a> </span> </span>, the authors construct a BASIC inspired <code>goto</code> function. Today, when we <code>require &#39;continuation&#39;</code>, the interpreter will kindly inform us that &#39;warning: callcc is obsolete; use Fiber instead&#39;.</p> <p>With continuations framed in this way, it should go without saying that, under no circumstances whatsoever, should these curios be used in anything with any degree of seriousness. Why, then, should should we even bother? Sometimes, the simple fact that we should not is enough to make it worthwhile.</p> <a href="/2017/05/29/continuations-in-ruby-part-1-first-class-objects/">Continue reading</a> </div> <div class="post"> <h1 class="post-title"> <a href="/2017/05/22/revisiting-the-game-of-life-in-elm/"> Revisiting the Game of Life in Elm </a> </h1> <h2>Reflection</h2> <p>Over three years ago, I wrote an <a href="/2014/05/05/writing-game-of-life-in-elm/">article</a> exploring how to write Conway&#39;s Game of Life in the Elm programming language. That article was originally written for version 0.12.3 and later updated for 0.14, but during the intervening span of time, Elm has matured significantly. In the process, Elm has <span> <a href="http://elm-lang.org/blog/farewell-to-frp">dropped its functional reactive roots</a> <span style="vertical-align: super"> <a href="http://elm-lang.org/blog/farewell-to-frp" target="_blank" alt="Pop Out" title="Pop Out"><svg class="octicon octicon-link-external" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 10h1v3c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h3v1H1v10h10v-3zM6 2l2.25 2.25L5 7.5 6.5 9l3.25-3.25L12 8V2H6z"/></svg></a> </span> </span> in favor of subscription-based concurrency. Today, we will go through the same exercise of writing the game of life, as a means of exploring the basics of a simple modern Elm program.</p> <a href="/2017/05/22/revisiting-the-game-of-life-in-elm/">Continue reading</a> </div> <div class="post"> <h1 class="post-title"> <a href="/2015/02/26/hacking-s-expressions-into-ruby/"> Hacking S-expressions into Ruby </a> </h1> <h2>Background</h2> <p><span> <a href="https://en.wikipedia.org/wiki/S-expression">S-expressions</a> <span style="vertical-align: super"> <a href="https://en.wikipedia.org/wiki/S-expression" target="_blank" alt="Pop Out" title="Pop Out"><svg class="octicon octicon-link-external" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 10h1v3c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h3v1H1v10h10v-3zM6 2l2.25 2.25L5 7.5 6.5 9l3.25-3.25L12 8V2H6z"/></svg></a> </span> </span> are a classic means of storing trees of data. Part of the original Lisp specification, they have been a part of software engineering since the very beginning. Other languages, notably Scheme and, more recently, Clojure, have helped maintain the relevancy of this very simple means for representing data.</p> <p>In the spirit of <span> <a href="https://en.wikipedia.org/wiki/Greenspun%27s_tenth_rule">Greenspun&#39;s tenth rule</a> <span style="vertical-align: super"> <a href="https://en.wikipedia.org/wiki/Greenspun%27s_tenth_rule" target="_blank" alt="Pop Out" title="Pop Out"><svg class="octicon octicon-link-external" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 10h1v3c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h3v1H1v10h10v-3zM6 2l2.25 2.25L5 7.5 6.5 9l3.25-3.25L12 8V2H6z"/></svg></a> </span> </span>, we are going to attempt make first-class s-expressions in Ruby. There is already a <span> <a href="http://rosettacode.org/wiki/S-Expressions#Ruby">nice implementation</a> <span style="vertical-align: super"> <a href="http://rosettacode.org/wiki/S-Expressions#Ruby" target="_blank" alt="Pop Out" title="Pop Out"><svg class="octicon octicon-link-external" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 10h1v3c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h3v1H1v10h10v-3zM6 2l2.25 2.25L5 7.5 6.5 9l3.25-3.25L12 8V2H6z"/></svg></a> </span> </span> of s-expressions in Ruby, for reference, but they are not first-class, which makes them less than ideal. As such, we are going to to see how far we can push (read: abuse) the dynamic nature of the Ruby language, and investigate just how much control we have over certain elements of its syntax.</p> <p>For anyone more interested in the result than the journey, be warned that this attempt will not be successful, but some interesting results will be found along the road to ultimate failure.</p> <a href="/2015/02/26/hacking-s-expressions-into-ruby/">Continue reading</a> </div> </div> <div class="pagination"> <a class="pagination-item older" href="/page2">Older</a> <span class="pagination-item newer">Newer</span> </div> </div> <script>!function(e,n,t,a,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=n.createElement(t),s=n.getElementsByTagName(t)[0],o.async=1,o.src=a,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-47296801-1","sonnym.github.io"),ga("send","pageview");</script> </body> </html>